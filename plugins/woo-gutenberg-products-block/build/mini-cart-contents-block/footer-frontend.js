(window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[]).push([[49],{102:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a=s(9),n=s(6);const r=()=>{const{customerData:e,isInitialized:t}=Object(a.useSelect)(e=>{const t=e(n.CART_STORE_KEY);return{customerData:t.getCustomerData(),isInitialized:t.hasFinishedResolution("getCartData")}}),{setShippingAddress:s,setBillingData:r}=Object(a.useDispatch)(n.CART_STORE_KEY);return{isInitialized:t,billingData:e.billingData,shippingAddress:e.shippingAddress,setBillingData:r,setShippingAddress:s}}},107:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s(9),n=s(0),r=s(6),c=s(72),i=s(31);const o=()=>{const e=Object(c.a)(),{dispatchCheckoutEvent:t}=Object(i.a)(),{selectShippingRate:s}=Object(a.useDispatch)(r.CART_STORE_KEY);return{selectShippingRate:Object(n.useCallback)((a,n)=>{s(a,n).then(()=>{t("set-selected-shipping-rate",{shippingRateId:a})}).catch(t=>{e(t)})},[s,t,e]),isSelectingRate:Object(a.useSelect)(e=>e(r.CART_STORE_KEY).isShippingRateBeingSelected(),[])}}},136:function(e,t,s){"use strict";var a=s(0);s(174),t.a=()=>Object(a.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"})},174:function(e,t){},185:function(e,t,s){"use strict";s.d(t,"b",(function(){return x})),s.d(t,"a",(function(){return Y}));var a=s(0),n=s(64);let r,c;!function(e){e.PRISTINE="pristine",e.STARTED="started",e.PROCESSING="processing",e.ERROR="has_error",e.FAILED="failed",e.SUCCESS="success",e.COMPLETE="complete"}(r||(r={})),function(e){e.SET_REGISTERED_PAYMENT_METHODS="set_registered_payment_methods",e.SET_REGISTERED_EXPRESS_PAYMENT_METHODS="set_registered_express_payment_methods",e.SET_SHOULD_SAVE_PAYMENT_METHOD="set_should_save_payment_method",e.SET_ACTIVE_PAYMENT_METHOD="set_active_payment_method"}(c||(c={}));const i={currentStatus:r.PRISTINE,shouldSavePaymentMethod:!1,activePaymentMethod:"",paymentMethodData:{payment_method:""},errorMessage:"",paymentMethods:{},expressPaymentMethods:{}},o={setPaymentStatus:()=>({pristine:()=>{},started:()=>{},processing:()=>{},completed:()=>{},error:e=>{},failed:(e,t)=>{},success:(e,t)=>{}}),currentStatus:{isPristine:!0,isStarted:!1,isProcessing:!1,isFinished:!1,hasError:!1,hasFailed:!1,isSuccessful:!1,isDoingExpressPayment:!1},paymentStatuses:r,paymentMethodData:{},errorMessage:"",activePaymentMethod:"",activeSavedToken:"",setActivePaymentMethod:()=>{},customerPaymentMethods:{},paymentMethods:{},expressPaymentMethods:{},paymentMethodsInitialized:!1,expressPaymentMethodsInitialized:!1,onPaymentProcessing:()=>()=>()=>{},setExpressPaymentError:()=>{},isExpressPaymentMethodActive:!1,setShouldSavePayment:()=>{},shouldSavePayment:!1};var d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,{type:t,paymentMethodData:s,shouldSavePaymentMethod:a=!1,errorMessage:n="",paymentMethods:o={},paymentMethod:d=""}=arguments.length>1?arguments[1]:void 0;switch(t){case r.PRISTINE:return{...i,...e,errorMessage:"",currentStatus:r.PRISTINE};case r.STARTED:return{...e,currentStatus:r.STARTED};case r.ERROR:return e.currentStatus!==r.ERROR?{...e,currentStatus:r.ERROR,errorMessage:n||e.errorMessage}:e;case r.FAILED:return e.currentStatus!==r.FAILED?{...e,currentStatus:r.FAILED,paymentMethodData:s||e.paymentMethodData,errorMessage:n||e.errorMessage}:e;case r.SUCCESS:return e.currentStatus!==r.SUCCESS?{...e,currentStatus:r.SUCCESS,paymentMethodData:s||e.paymentMethodData}:e;case r.PROCESSING:return e.currentStatus!==r.PROCESSING?{...e,currentStatus:r.PROCESSING,errorMessage:""}:e;case r.COMPLETE:return e.currentStatus!==r.COMPLETE?{...e,currentStatus:r.COMPLETE}:e;case c.SET_REGISTERED_PAYMENT_METHODS:return{...e,paymentMethods:o};case c.SET_REGISTERED_EXPRESS_PAYMENT_METHODS:return{...e,expressPaymentMethods:o};case c.SET_SHOULD_SAVE_PAYMENT_METHOD:return{...e,shouldSavePaymentMethod:a};case c.SET_ACTIVE_PAYMENT_METHOD:return{...e,activePaymentMethod:d,paymentMethodData:s||e.paymentMethodData}}},l=s(1),u=s(16),p=s(28),m=s(2),h=s(51),S=s(18),E=s(41),g=s(32),y=s(29),b=s(40),O=s(27);const _=(e,t,s,n)=>{const[r,c]=Object(a.useState)(!1),{isEditor:i}=Object(S.a)(),{selectedRates:o}=Object(E.b)(),{billingData:d,shippingAddress:u}=Object(g.b)(),O=Object(p.a)(o),_=Object(p.a)(s),v=Object(y.a)(),{cartTotals:M,cartIsLoading:j,cartNeedsShipping:P,paymentRequirements:f}=v,R=Object(a.useRef)({cart:v,cartTotals:M,cartNeedsShipping:P,billingData:d,shippingAddress:u,selectedShippingMethods:O,paymentRequirements:f}),{addErrorNotice:T}=Object(b.a)();Object(a.useEffect)(()=>{R.current={cart:v,cartTotals:M,cartNeedsShipping:P,billingData:d,shippingAddress:u,selectedShippingMethods:O,paymentRequirements:f}},[v,M,P,d,u,O,f]);const D=Object(a.useCallback)(async()=>{let s={};const a=e=>{s={...s,[e.name]:e}};for(let e=0;e<_.length;e++){const s=_[e],r=t[s];if(r)try{const e=!!i||await Promise.resolve(r.canMakePayment(R.current));if(e){if("object"==typeof e&&null!==e&&e.error)throw new Error(e.error.message);a(r)}}catch(e){if(m.CURRENT_USER_IS_ADMIN||i){const t=Object(l.sprintf)(
/* translators: %s the id of the payment method being registered (bank transfer, cheque...) */
Object(l.__)("There was an error registering the payment method with id '%s': ","woo-gutenberg-products-block"),r.paymentMethodId);T(`${t} ${e}`,{context:n,id:`wc-${r.paymentMethodId}-registration-error`})}}}e(s),c(!0)},[T,e,i,n,_,t]),A=Object(h.a)(D,500,{leading:!0});return Object(a.useEffect)(()=>{j||A()},[A,v,O,d,j]),r},v=e=>({type:e}),M=e=>({type:r.ERROR,errorMessage:e}),j=e=>{let{errorMessage:t,paymentMethodData:s}=e;return{type:r.FAILED,errorMessage:t,paymentMethodData:s}},P=e=>{let{paymentMethodData:t}=e;return{type:r.SUCCESS,paymentMethodData:t}},f=e=>({type:c.SET_REGISTERED_PAYMENT_METHODS,paymentMethods:e}),R=e=>({type:c.SET_REGISTERED_EXPRESS_PAYMENT_METHODS,paymentMethods:e}),T=e=>({type:c.SET_SHOULD_SAVE_PAYMENT_METHOD,shouldSavePaymentMethod:e}),D=(e,t)=>({type:c.SET_ACTIVE_PAYMENT_METHOD,paymentMethod:e,paymentMethodData:t});var A=s(35),I=s(90),N=s(181);var C=s(183),k=s(177);const w=Object(a.createContext)(o),x=()=>Object(a.useContext)(w),Y=e=>{let{children:t}=e;const{isProcessing:s,isIdle:c,isCalculating:o,hasError:l}=Object(A.b)(),{isEditor:p,getPreviewData:h}=Object(S.a)(),{setValidationErrors:y}=Object(k.b)(),{addErrorNotice:x,removeNotice:Y}=Object(b.a)(),{isSuccessResponse:F,isErrorResponse:L,isFailResponse:U,noticeContexts:G}=Object(O.c)(),[H,V]=Object(a.useReducer)(I.b,{}),{onPaymentProcessing:z}=(e=>Object(a.useMemo)(()=>({onPaymentProcessing:Object(N.a)("payment_processing",e)}),[e]))(V),B=Object(a.useRef)(H);Object(a.useEffect)(()=>{B.current=H},[H]);const[X,K]=Object(a.useReducer)(d,i),{dispatchActions:W,setPaymentStatus:$}=(e=>{const{setBillingData:t}=Object(g.b)(),{setShippingAddress:s}=Object(E.b)();return{dispatchActions:Object(a.useMemo)(()=>({setRegisteredPaymentMethods:t=>{e(f(t))},setRegisteredExpressPaymentMethods:t=>{e(R(t))},setShouldSavePayment:t=>{e(T(t))},setActivePaymentMethod:function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(D(t,s))}}),[e]),setPaymentStatus:Object(a.useCallback)(()=>({pristine:()=>e(v(r.PRISTINE)),started:()=>e(v(r.STARTED)),processing:()=>e(v(r.PROCESSING)),completed:()=>e(v(r.COMPLETE)),error:t=>e(M(t)),failed:function(s,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;n&&t(n),e(j({errorMessage:s||"",paymentMethodData:a||{}}))},success:function(a){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;n&&t(n),void 0!==typeof r&&null!=r&&r.address&&s(r.address),e(P({paymentMethodData:a}))}}),[e,t,s])}})(K),q=(e=>{const t=Object(u.getPaymentMethods)(),{noticeContexts:s}=Object(O.c)(),a=new Set([...Object(m.getSetting)("paymentGatewaySortOrder",[]),...Object.keys(t)]);return _(e,t,Array.from(a),s.PAYMENTS)})(W.setRegisteredPaymentMethods),J=(e=>{const t=Object(u.getExpressPaymentMethods)(),{noticeContexts:s}=Object(O.c)();return _(e,t,Object.keys(t),s.EXPRESS_PAYMENTS)})(W.setRegisteredExpressPaymentMethods),Q=Object(a.useMemo)(()=>p?h("previewSavedPaymentMethods"):q?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0===Object.keys(e).length)return{};const t=Object(m.getSetting)("customerPaymentMethods",{}),s=Object.keys(t),a={};return s.forEach(s=>{const n=t[s].filter(t=>{var s;let{method:{gateway:a}}=t;return a in e&&(null===(s=e[a].supports)||void 0===s?void 0:s.showSavedCards)});n.length&&(a[s]=n)}),a}(X.paymentMethods):{},[p,h,q,X.paymentMethods]),Z=Object(a.useCallback)(e=>{e?x(e,{id:"wc-express-payment-error",context:G.EXPRESS_PAYMENTS}):Y("wc-express-payment-error",G.EXPRESS_PAYMENTS)},[x,G.EXPRESS_PAYMENTS,Y]),ee=Object.keys(X.expressPaymentMethods).includes(X.activePaymentMethod),te=Object(a.useMemo)(()=>({isPristine:X.currentStatus===r.PRISTINE,isStarted:X.currentStatus===r.STARTED,isProcessing:X.currentStatus===r.PROCESSING,isFinished:[r.ERROR,r.FAILED,r.SUCCESS].includes(X.currentStatus),hasError:X.currentStatus===r.ERROR,hasFailed:X.currentStatus===r.FAILED,isSuccessful:X.currentStatus===r.SUCCESS,isDoingExpressPayment:X.currentStatus!==r.PRISTINE&&ee}),[X.currentStatus,ee]);Object(a.useEffect)(()=>{const e=Object.keys(X.paymentMethods);if(!q||!e.length)return;const t=[...e,...Object.keys(X.expressPaymentMethods)];if(X.activePaymentMethod&&t.includes(X.activePaymentMethod))return;$().pristine();const s=Object.keys(Q).flatMap(e=>Q[e])[0]||void 0;if(s){const e=s.tokenId.toString(),t=s.method.gateway,a=`wc-${t}-payment-token`;W.setActivePaymentMethod(t,{token:e,payment_method:t,[a]:e,isSavedToken:!0})}else W.setActivePaymentMethod(Object.keys(X.paymentMethods)[0])},[q,X.paymentMethods,X.expressPaymentMethods,W,$,X.activePaymentMethod,Q]),Object(a.useEffect)(()=>{!s||l||o||te.isFinished||$().processing()},[s,l,o,te.isFinished,$]),Object(a.useEffect)(()=>{c&&!te.isSuccessful&&$().pristine()},[c,te.isSuccessful,$]),Object(a.useEffect)(()=>{l&&te.isSuccessful&&$().pristine()},[l,te.isSuccessful,$]),Object(a.useEffect)(()=>{te.isProcessing&&(Y("wc-payment-error",G.PAYMENTS),Object(C.b)(B.current,"payment_processing",{}).then(e=>{let t,s;var a,n,r,c,i,o;if(e.forEach(e=>{F(e)&&(t=e),(L(e)||U(e))&&(s=e)}),t&&!s)$().success(null===(a=t)||void 0===a||null===(n=a.meta)||void 0===n?void 0:n.paymentMethodData,null===(r=t)||void 0===r||null===(c=r.meta)||void 0===c?void 0:c.billingData,null===(i=t)||void 0===i||null===(o=i.meta)||void 0===o?void 0:o.shippingData);else if(s&&U(s)){var d,l,u,p,m,h;s.message&&s.message.length&&x(s.message,{id:"wc-payment-error",isDismissible:!1,context:(null===(h=s)||void 0===h?void 0:h.messageContext)||G.PAYMENTS}),$().failed(null===(d=s)||void 0===d?void 0:d.message,null===(l=s)||void 0===l||null===(u=l.meta)||void 0===u?void 0:u.paymentMethodData,null===(p=s)||void 0===p||null===(m=p.meta)||void 0===m?void 0:m.billingData)}else if(s){var S,E;s.message&&s.message.length&&x(s.message,{id:"wc-payment-error",isDismissible:!1,context:(null===(E=s)||void 0===E?void 0:E.messageContext)||G.PAYMENTS}),$().error(s.message),y(null===(S=s)||void 0===S?void 0:S.validationErrors)}else $().success()}))},[te.isProcessing,y,$,Y,G.PAYMENTS,F,U,L,x]);const se="object"==typeof X.paymentMethodData&&Object(n.b)(X.paymentMethodData,"token")?X.paymentMethodData.token+"":"",ae={setPaymentStatus:$,currentStatus:te,paymentStatuses:r,paymentMethodData:X.paymentMethodData,errorMessage:X.errorMessage,activePaymentMethod:X.activePaymentMethod,activeSavedToken:se,setActivePaymentMethod:W.setActivePaymentMethod,onPaymentProcessing:z,customerPaymentMethods:Q,paymentMethods:X.paymentMethods,expressPaymentMethods:X.expressPaymentMethods,paymentMethodsInitialized:q,expressPaymentMethodsInitialized:J,setExpressPaymentError:Z,isExpressPaymentMethodActive:ee,shouldSavePayment:X.shouldSavePaymentMethod,setShouldSavePayment:W.setShouldSavePayment};return Object(a.createElement)(w.Provider,{value:ae},t)}},240:function(e,t,s){"use strict";var a=s(10),n=s.n(a),r=s(0),c=s(54),i=s(4),o=s.n(i),d=s(136);s(243),t.a=e=>{let{className:t,showSpinner:s=!1,children:a,variant:i="contained",...l}=e;const u=o()("wc-block-components-button",t,i,{"wc-block-components-button--loading":s});return Object(r.createElement)(c.a,n()({className:u},l),s&&Object(r.createElement)(d.a,null),Object(r.createElement)("span",{className:"wc-block-components-button__text"},a))}},243:function(e,t){},248:function(e,t){},250:function(e,t,s){"use strict";s.d(t,"b",(function(){return c})),s.d(t,"a",(function(){return i}));var a=s(28),n=s(185);const r=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{paymentMethods:t,expressPaymentMethods:s,paymentMethodsInitialized:r,expressPaymentMethodsInitialized:c}=Object(n.b)(),i=Object(a.a)(t),o=Object(a.a)(s);return{paymentMethods:e?o:i,isInitialized:e?c:r}},c=()=>r(!1),i=()=>r(!0)},252:function(e,t,s){"use strict";var a=s(10),n=s.n(a),r=s(0),c=s(4),i=s.n(c);const o=e=>"wc-block-components-payment-method-icon wc-block-components-payment-method-icon--"+e;var d=e=>{let{id:t,src:s=null,alt:a=""}=e;return s?Object(r.createElement)("img",{className:o(t),src:s,alt:a}):null},l=s(49);const u=[{id:"alipay",alt:"Alipay",src:l.l+"payment-methods/alipay.svg"},{id:"amex",alt:"American Express",src:l.l+"payment-methods/amex.svg"},{id:"bancontact",alt:"Bancontact",src:l.l+"payment-methods/bancontact.svg"},{id:"diners",alt:"Diners Club",src:l.l+"payment-methods/diners.svg"},{id:"discover",alt:"Discover",src:l.l+"payment-methods/discover.svg"},{id:"eps",alt:"EPS",src:l.l+"payment-methods/eps.svg"},{id:"giropay",alt:"Giropay",src:l.l+"payment-methods/giropay.svg"},{id:"ideal",alt:"iDeal",src:l.l+"payment-methods/ideal.svg"},{id:"jcb",alt:"JCB",src:l.l+"payment-methods/jcb.svg"},{id:"laser",alt:"Laser",src:l.l+"payment-methods/laser.svg"},{id:"maestro",alt:"Maestro",src:l.l+"payment-methods/maestro.svg"},{id:"mastercard",alt:"Mastercard",src:l.l+"payment-methods/mastercard.svg"},{id:"multibanco",alt:"Multibanco",src:l.l+"payment-methods/multibanco.svg"},{id:"p24",alt:"Przelewy24",src:l.l+"payment-methods/p24.svg"},{id:"sepa",alt:"Sepa",src:l.l+"payment-methods/sepa.svg"},{id:"sofort",alt:"Sofort",src:l.l+"payment-methods/sofort.svg"},{id:"unionpay",alt:"Union Pay",src:l.l+"payment-methods/unionpay.svg"},{id:"visa",alt:"Visa",src:l.l+"payment-methods/visa.svg"},{id:"wechat",alt:"WeChat",src:l.l+"payment-methods/wechat.svg"}];var p=s(62);s(248),t.a=e=>{let{icons:t=[],align:s="center",className:a}=e;const c=(e=>{const t={};return e.forEach(e=>{let s={};"string"==typeof e&&(s={id:e,alt:e,src:null}),"object"==typeof e&&(s={id:e.id||"",alt:e.alt||"",src:e.src||null}),s.id&&Object(p.a)(s.id)&&!t[s.id]&&(t[s.id]=s)}),Object.values(t)})(t);if(0===c.length)return null;const o=i()("wc-block-components-payment-method-icons",{"wc-block-components-payment-method-icons--align-left":"left"===s,"wc-block-components-payment-method-icons--align-right":"right"===s},a);return Object(r.createElement)("div",{className:o},c.map(e=>{const t={...e,...(s=e.id,u.find(e=>e.id===s)||{})};var s;return Object(r.createElement)(d,n()({key:"payment-method-icon-"+e.id},t))}))}},28:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s(0),n=s(11),r=s.n(n);function c(e){const t=Object(a.useRef)(e);return r()(e,t.current)||(t.current=e),t.current}},32:function(e,t,s){"use strict";s.d(t,"b",(function(){return c})),s.d(t,"a",(function(){return i}));var a=s(0),n=s(102);const r=Object(a.createContext)({isInitialized:!1,billingData:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",email:"",phone:""},shippingAddress:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},setBillingData:()=>{},setShippingAddress:()=>{}}),c=()=>Object(a.useContext)(r),i=e=>{let{children:t}=e;const s=Object(n.a)();return Object(a.createElement)(r.Provider,{value:s},t)}},41:function(e,t,s){"use strict";s.d(t,"b",(function(){return j})),s.d(t,"a",(function(){return P}));var a=s(0),n=s(11),r=s.n(n),c=s(71);const i=e=>Object(c.a)(e.map(e=>{var t;let{package_id:s,shipping_rates:a}=e;return[s,null===(t=a.find(e=>e.selected))||void 0===t?void 0:t.rate_id]})),o={NONE:"none",INVALID_ADDRESS:"invalid_address",UNKNOWN:"unknown_error"},d={INVALID_COUNTRY:"woocommerce_rest_cart_shipping_rates_invalid_country",MISSING_COUNTRY:"woocommerce_rest_cart_shipping_rates_missing_country",INVALID_STATE:"woocommerce_rest_cart_shipping_rates_invalid_state"},l={shippingErrorStatus:{isPristine:!0,isValid:!1,hasInvalidAddress:!1,hasError:!1},dispatchErrorStatus:()=>null,shippingErrorTypes:o,shippingRates:[],shippingRatesLoading:!1,selectedRates:[],setSelectedRates:()=>null,shippingAddress:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:""},setShippingAddress:()=>null,onShippingRateSuccess:()=>null,onShippingRateFail:()=>null,onShippingRateSelectSuccess:()=>null,onShippingRateSelectFail:()=>null,needsShipping:!1},u=(e,t)=>{let{type:s}=t;return Object.values(o).includes(s)?s:e};var p=s(90),m=s(181);const h=e=>({onSuccess:Object(m.a)("shipping_rates_success",e),onFail:Object(m.a)("shipping_rates_fail",e),onSelectSuccess:Object(m.a)("shipping_rate_select_success",e),onSelectFail:Object(m.a)("shipping_rate_select_fail",e)});var S=s(183),E=s(35),g=s(32),y=s(29),b=s(107);const{NONE:O,INVALID_ADDRESS:_,UNKNOWN:v}=o,M=Object(a.createContext)(l),j=()=>Object(a.useContext)(M),P=e=>{let{children:t}=e;const{dispatchActions:s}=Object(E.b)(),{shippingAddress:n,setShippingAddress:c}=Object(g.b)(),{cartNeedsShipping:l,cartHasCalculatedShipping:m,shippingRates:j,shippingRatesLoading:P,cartErrors:f}=Object(y.a)(),{selectShippingRate:R,isSelectingRate:T}=Object(b.a)(),[D,A]=Object(a.useReducer)(u,O),[I,N]=Object(a.useReducer)(p.b,{}),C=Object(a.useRef)(I),k=Object(a.useMemo)(()=>({onShippingRateSuccess:h(N).onSuccess,onShippingRateFail:h(N).onFail,onShippingRateSelectSuccess:h(N).onSelectSuccess,onShippingRateSelectFail:h(N).onSelectFail}),[N]);Object(a.useEffect)(()=>{C.current=I},[I]);const w=Object(a.useRef)(()=>i(j));Object(a.useEffect)(()=>{const e=i(j);r()(w.current,e)||(w.current=e)},[j]),Object(a.useEffect)(()=>{P?s.incrementCalculating():s.decrementCalculating()},[P,s]),Object(a.useEffect)(()=>{T?s.incrementCalculating():s.decrementCalculating()},[T,s]),Object(a.useEffect)(()=>{f.length>0&&f.some(e=>!(!e.code||!Object.values(d).includes(e.code)))?A({type:_}):A({type:O})},[f]);const x=Object(a.useMemo)(()=>({isPristine:D===O,isValid:D===O,hasInvalidAddress:D===_,hasError:D===v||D===_}),[D]);Object(a.useEffect)(()=>{P||0!==j.length&&!x.hasError||Object(S.a)(C.current,"shipping_rates_fail",{hasInvalidAddress:x.hasInvalidAddress,hasError:x.hasError})},[j,P,x.hasError,x.hasInvalidAddress]),Object(a.useEffect)(()=>{!P&&j.length>0&&!x.hasError&&Object(S.a)(C.current,"shipping_rates_success",j)},[j,P,x.hasError]),Object(a.useEffect)(()=>{T||(x.hasError?Object(S.a)(C.current,"shipping_rate_select_fail",{hasError:x.hasError,hasInvalidAddress:x.hasInvalidAddress}):Object(S.a)(C.current,"shipping_rate_select_success",w.current))},[T,x.hasError,x.hasInvalidAddress]);const Y={shippingErrorStatus:x,dispatchErrorStatus:A,shippingErrorTypes:o,shippingRates:j,shippingRatesLoading:P,selectedRates:w.current,setSelectedRates:R,isSelectingRate:T,shippingAddress:n,setShippingAddress:c,needsShipping:l,hasCalculatedShipping:m,...k};return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(M.Provider,{value:Y},t))}},424:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),r=s(12),c=s(39),i=s(250),o=s(29),d=s(252);const l=e=>Object.values(e).reduce((e,t)=>(null!==t.icons&&(e=e.concat(t.icons)),e),[]);var u=s(2),p=s(49),m=s(240),h=s(185);const S=()=>{const{paymentMethods:e}=Object(i.b)();return Object(a.createElement)(d.a,{icons:l(e)})};t.default=e=>{let{color:t,backgroundColor:s}=e;const{cartTotals:i}=Object(o.a)(),d=Object(u.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(i.total_items,10)+parseInt(i.total_items_tax,10):parseInt(i.total_items,10);return Object(a.createElement)("div",{className:"wc-block-mini-cart__footer"},Object(a.createElement)(r.TotalsItem,{className:"wc-block-mini-cart__footer-subtotal",currency:Object(c.getCurrencyFromPriceResponse)(i),label:Object(n.__)("Subtotal","woo-gutenberg-products-block"),value:d,description:Object(n.__)("Shipping, taxes, and discounts calculated at checkout.","woo-gutenberg-products-block")}),Object(a.createElement)("div",{className:"wc-block-mini-cart__footer-actions"},p.c&&Object(a.createElement)(m.a,{className:"wc-block-mini-cart__footer-cart",href:p.c,style:{color:t,borderColor:t},variant:"outlined"},Object(n.__)("View my cart","woo-gutenberg-products-block")),p.d&&Object(a.createElement)(m.a,{className:"wc-block-mini-cart__footer-checkout",href:p.d,style:{color:s,borderColor:t,backgroundColor:t}},Object(n.__)("Go to checkout","woo-gutenberg-products-block"))),Object(a.createElement)(h.a,null,Object(a.createElement)(S,null)))}},72:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s(0);const n=()=>{const[,e]=Object(a.useState)();return Object(a.useCallback)(t=>{e(()=>{throw t})},[])}}}]);